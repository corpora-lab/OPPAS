/* The formulas mean, respectively, that:
 * - the first position has an inner call to perr;
 * - the third position is call terminated by an axception;
 * - the second position is a handler catching an exception that terminates more than one call;
 * - all exceptions terminate more than one call.
 */

prec = Mcall;

formulas = XNd perr,
           PNd (PNd (call And (XNu exc))),
           PNd (han And (XNd (exc And (XBu call)))),
           G (exc --> XBu call);

opa:
  initials = 0;
  finals = 10;
  deltaPush =
    (0, (call pa),   1),
    (1, (han),          2),
    (2, (call pb),   3),
    (3, (call pc),   4),
    (4, (call pc),   4),
    (6, (call perr), 7),
    (8, (call perr), 7);
  deltaShift =
    (4, (exc),         5),
    (7, (ret perr), 7),
    (9, (ret pa),   11);
  deltaPop =
    (4, 2, 4),
    (4, 3, 4),
    (4, 4, 4),
    (5, 1, 6),
    (7, 6, 8),
    (7, 8, 9),
    (11, 0, 10);
